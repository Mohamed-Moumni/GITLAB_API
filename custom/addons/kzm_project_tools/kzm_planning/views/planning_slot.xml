<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <data>
        <record id="planning_view_search_extended_kzm" model="ir.ui.view">
            <field name="name">planning.view.search.inherit.kzm</field>
            <field name="model">planning.slot</field>
            <field name="inherit_id" ref="planning.planning_view_search"/>
            <field name="arch" type="xml">
                <xpath expr="//group" position="inside">
                    <filter name="group_by_task_id" string="Task" context="{'group_by':'task_id'}"/>
                    <filter name="group_by_team_id" string="Team" context="{'group_by':'team_id'}"/>
                    <filter name="group_by_state" string="State" context="{'group_by':'state'}"/>
                </xpath>
            </field>
        </record>

        <record id="planning_slot_view_tree_inherit_sale_planning_extend_kzm" model="ir.ui.view">
            <field name="name">planning.slot.tree.kzm</field>
            <field name="model">planning.slot</field>
            <field name="inherit_id" ref="sale_planning.planning_slot_view_tree_inherit_sale_planning"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='sale_line_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
            </field>
        </record>

        <record id="planning_slot_view_tree_extend" model="ir.ui.view">
            <field name="name">planning.slot.tree</field>
            <field name="model">planning.slot</field>
            <field name="inherit_id" ref="planning.planning_view_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='state']" position="attributes">
                    <attribute name="groups"></attribute>
                    <attribute name="optional">show</attribute>
                </xpath>

                <xpath expr="//field[@name='resource_id']" position="before">
                    <field name="task_id" readonly="1"/>
                    <field name="ticket_id"/>
                    <field name="team_id"/>
                    <field name="description" required="1"/>
                    <field name="priority" widget="priority"/>
                </xpath>
            </field>
        </record>

        <record id="planning_slot_view_calendar_extended" model="ir.ui.view">
            <field name="name">planning.slot.calendar</field>
            <field name="model">planning.slot</field>
            <field name="inherit_id" ref="planning.planning_view_calendar"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='resource_id']" position="before">
                    <field name="task_id"/>
                    <field name="description"/>
                </xpath>
            </field>
        </record>

        <record id="planning_slot_view_gantt_extend" model="ir.ui.view">
            <field name="name">planning.slot.view.gantt</field>
            <field name="model">planning.slot</field>
            <field name="inherit_id" ref="planning.planning_view_gantt"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='allocated_hours']" position="before">
                    <field name="task_id"/>
                    <field name="description"/>
                </xpath>
                <xpath expr="//p[@t-if='overlap_slot_count']//t" position="replace">
                </xpath>
            </field>
        </record>

    </data>
</odoo>